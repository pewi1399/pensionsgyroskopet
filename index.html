<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Pensionsgyroskopet</title>
	<meta name="author" content="perwim" />
	<meta name="description" content="Pensionsgyroskopet" />
	<meta name="keywords"  content="Pensionsgyroskopet" />
	<meta name="Resource-type" content="Document" />

	<link rel="stylesheet" href="src/bootstrap.3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">

	<link rel="stylesheet" type="text/css" href="src/fullPage.js-master/jquery.fullPage.css" />
	<link rel="stylesheet" type="text/css" href="src/fullPage.js-master/examples/examples.css" />

	<!-- PM fonter etc -->
	<link rel="stylesheet" href="https://www.pensionsmyndigheten.se/etc/clientlibs/pm-framework.40433ce8c29a09bb9496c4a6c555bd77.css" type="text/css">
	<script type="text/javascript" src="https://www.pensionsmyndigheten.se/etc/clientlibs/pm-modernizr.319f35cfb78f704d1547680c7318ead7.js"></script>
	<link rel="stylesheet" href="https://www.pensionsmyndigheten.se/etc/clientlibs/pm-mainsite.f69f79a0acf3afa62dce624d26d560d7.css" type="text/css">

	<!-- knappar -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="src/gyro_style.css" />

	<script src="src/jquery-3.1.1.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
	<script type="text/javascript" src="src/fullPage.js-master/vendors/scrolloverflow.js"></script>
	<script type="text/javascript" src="src/fullPage.js-master/jquery.fullPage.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
	<script src="src/d3v4/d3.min.js"></script>
	<script src="slider2.js"></script>
	<script src="plot.js"></script>
	<script src="src/delningstal.js"></script>
	<!--<script src="modell.js"></script>-->
	<script src="sliderCallbacks.js"></script>
	<script src="src/bootstrap.3.3.7/js/bootstrap.min.js"></script>

	<script type="text/javascript">
		$(document).ready(function() {
			$('#fullpage').fullpage({
			  anchors: ['1/12', '2/12', '3/12', '4/12', '5/12', '6/12', '7/12', '8/12', '9/12', '10/12', '11/12', '12/12'],
				sectionsColor: ['whitesmoke', 	'#E8E8E8', 'whitesmoke', 	'#E8E8E8', 'whitesmoke', 	'#E8E8E8', 'whitesmoke', '#E8E8E8', 'whitesmoke', '#E8E8E8', 'whitesmoke', '#E8E8E8'],
			navigation: false,
			navigationPosition: 'bottom',
			slidesNavPosition: 'bottom',
			navigationTooltips: ['Startsida', 'Bakgrundsfrågor', 'Prioriteringar', 'Pensionsålder', 'Pension', 'Information', 'Lön', 'Sparande', 'Infotext', 'Frågestallning','Mer pengar idag?', 'Tack!'],
			    afterLoad: function(anchorLink, index){
			    	$('#callbacksDiv').append('<p>afterLoad - anchorLink:' + anchorLink + " index:" + index + '</p>');
					deleteLog = true;
					console.log('===============');
					console.log("afterLoad--" + "anchorLink: " + anchorLink + " index: " + index );

					var elem = document.getElementById("myBar");
					var width = (index-1)/11*100 
					
					if(index == 1){
						elem.style.width = 0
					}else{
						elem.style.width = width + '%';
					}
			    }
		});


		// hide/show text and slider on page with savings 
		$("#x3").hide();
  		$("#x3text").hide();
  		$(".sparaJa").click(function() {
  			$("#x3").show("slow");
  			$("#x3text").show("slow");
		});
		$(".sparaNej").click(function() {
  			$("#x3").hide("slow");
  			$("#x3text").hide("slow");
		});
		// hide/show alternative "other" text-input
		$("#viktigastAnnat").hide();
		$(".radioAnnat").click(function() {
  			$("#viktigastAnnat").show("slow");	
		});
		$('input[name=test_slider_sparande]').change(function(){
			s3.value($('input[name=test_slider_sparande]').val());
			$("input[name='sparande_final_valfritt']").val($('input[name=test_slider_sparande]').val())
		})
		$('input[name=sparande_final_valfritt]').change(function(){
			s3.value($('input[name=sparande_final_valfritt]').val());
			$("input[name='test_slider_sparande']").val($('input[name=sparande_final_valfritt]').val());
			s1.value($('input[name=test_slider_pensionsalder]').val());
			pension(s1,s2,s3);
		})
		$('input[name=test_slider_pensionsalder]').change(function(){
			s1.value($('input[name=test_slider_pensionsalder]').val());
			pension(s1,s2,s3);
		})
		$('input[name=test_slider_pensionsinkomst]').change(function(){
			s2.value($('input[name=test_slider_pensionsinkomst]').val());
			behallning(s2,s1,s3);
		})

		var testHeight = $("#section0").height();
		$( "#nextButton" ).css("margin-top", testHeight*0.97);
	});

	

	</script>

<style>
@font-face {
    font-family: pm-icons;
    src: url(resources/fonts/pm-icons.woff) format("woff"), url(resources/fonts/pm-icons.ttf) format("truetype");
}

@font-face {
    font-family: Pensio;
    src: url(resources/fonts/PensioSans-Normal.woff2) format("woff2"), url(resources/fonts/PensioSans-Normal.woff) format("woff"), url(resources/fonts/PensioSans-Normal.ttf) format("truetype");
}

@font-face {
    font-family: Pensio;
    font-weight: 700;
    src: url(resources/fonts/PensioSans-Medium.woff2) format("woff2"), url(resources/fonts/PensioSans-Medium.woff) format("woff"), url(resources/fonts/PensioSans-Medium.ttf) format("truetype");
}

div {
    font-family: Pensio;
}

h1 {
    font-family: Pensio;
}

p{
	color: #181818;
}

#fp-nav ul li .fp-tooltip {
    position: absolute;
    top: -2px;
    color: black;
    font-size: 14px;
    font-family: arial, helvetica, sans-serif;
    white-space: nowrap;
    max-width: 220px;
    overflow: hidden;
    display: block;
    opacity: 0;
    width: 0;
    cursor: pointer;
}


label.btn span {
  font-size: 1.5em ;
}

label input[type="radio"] ~ i.fa.fa-circle-o{
    color: #181818;    display: inline;
}
label input[type="radio"] ~ i.fa.fa-dot-circle-o{
    display: none;
}
label input[type="radio"]:checked ~ i.fa.fa-circle-o{
    display: none;
}
label input[type="radio"]:checked ~ i.fa.fa-dot-circle-o{
    color: #181818;    display: inline;
}
label:hover input[type="radio"] ~ i.fa {
color: #181818;
}

label input[type="checkbox"] ~ i.fa.fa-square-o{
    color: #181818;    display: inline;
}
label input[type="checkbox"] ~ i.fa.fa-check-square-o{
    display: none;
}
label input[type="checkbox"]:checked ~ i.fa.fa-square-o{
    display: none;
}
label input[type="checkbox"]:checked ~ i.fa.fa-check-square-o{
    color: #181818;    display: inline;
}
label:hover input[type="checkbox"] ~ i.fa {
color: #181818;
}

div[data-toggle="buttons"] label.active{
    color:#181818;
}

div[data-toggle="buttons"] label {
display: inline-block;
padding: 6px 12px;
margin-bottom: 0;
font-size: 14px;
font-weight: normal;
line-height: 2em;
text-align: left;
white-space: nowrap;
vertical-align: top;
cursor: pointer;
background-color: none;
border: 0px solid 
#181818;
border-radius: 3px;
color: #181818;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
user-select: none;
}

div[data-toggle="buttons"] label:hover {
color: #f20404;
}

div[data-toggle="buttons"] label:active, div[data-toggle="buttons"] label.active {
-webkit-box-shadow: none;
box-shadow: none;
}

#myProgress {
    width: 100%;
    z-index:1000;
    position:relative;
    background-color: lightgrey;
}

#myBar {
    width: 1%;
    height: 5px;
    background-color: #FFB70F;
}

#nextButton {
    width: 100%;
    z-index:1000;
    position:absolute;
    margin-top: 647px;
}

.next {
    background-color: #4CAF50;
    color: white;
}

</style>



</head>
<body>

<div id="myProgress">
	  <div id="myBar"></div>
</div>

<div id="nextButton">
	<div>
		<a href="#" class="next col-md-offset-10 col-md-1", onclick = "$.fn.fullpage.moveSectionDown();">Nästa fråga &raquo;</a>
	</div>
</div>

<div id="fullpage">

	<div class="section active", id="section0">
		<div class = "col-md-10 col-md-offset-1">


			<h1> Hur ser din drömpension ut? (1/12)</h1>
			<p>
				Pensionsmyndigheten genomför ett projekt för att se hur människor skulle välja <br> 
				– om de fick välja fritt   – mellan hur länge de vill arbeta innan pensionen, <br>
				pengar i pension och pengar att leva för idag.
				<br>
				<br>
				Du har blivit slumpmässigt utvald att delta i projektet och ditt deltagande är garanterat anonymt.
			</p>
		</div>
	</div>

	<div class="section" id="section1">
		<div class = "col-md-10 col-md-offset-1">
			<h1>Först några frågor om dig (2/12)</h1>
			<p>
				<br>
				Jag är född: <input type="text" name = "fodelsear" placeholder="Ange födelseår" style="width: 200px;text-align: center;">
				<br>
				<br>
				Jag är en:
			<div class="btn-group btn-group-vertical" data-toggle="buttons">
	        	<label class="btn active">
	          		<input type="radio" name='gender1' checked><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i> <span>  Man</span>
	        	</label>
		        <label class="btn">
		          	<input type="radio" name='gender1'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Kvinna</span>
		        </label>
		       	<label class="btn">
		          	<input type="radio" name='gender1'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Annat / Vill ej svara</span>
		        </label>
	      	</div>
			</p>
	    </div>
	</div>

	<div class="section" id="section2">
		<div class = "col-md-10 col-md-offset-1">
		<h1>Om du fick välja fritt? (3/12)</h1>
		<p>
			<br>
			När det gäller din pension vad är viktigast för dig?
		</p>
			<div class="radioLeft col-md-4 col-md-offset-4">
				<p>
				<br>
				 <div class="btn-group btn-group-vertical" data-toggle="buttons">
		        	<label class="btn active">
		          		<input type="radio" name='viktigast' checked><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i> <span> Att gå i pension vid en särskild ålder </span>
		        	</label>
			        <label class="btn">
			          	<input type="radio" name='viktigast'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Att få en hög pension</span>
			        </label>
			       	<label class="btn">
			          	<input type="radio" name='viktigast'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Vet ej</span>
			        </label>
			        <label class="btn">
			          	<input type="radio" name='viktigast'><i class="fa fa-circle-o fa-2x radioAnnat"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Annat</span>
			        </label>
		      	</div>
			   	<div id = "viktigastAnnat" >
			   		Vilket?: <input type="text" name = "viktigtAnnat" placeholder="" style="width: 200px;text-align: center;">
			   </div>
		 		</p>
			</div>
	    </div>
	</div>

	<div class="section" id="section3">
		<div class = "col-md-10 col-md-offset-1">
			<h1>Om du kunde välja fritt, vid vilken ålder skulle du vilja gå i pension? (4/12)</h1>
			<p>
				<br>
				Jag skulle vilja gå när jag är <input type="text" name = "onskad_alder" placeholder="Ange ålder" style="width: 150px;text-align: center;"> år gammal.
			</p>
	    </div>
	</div>

	<div class="section" id="section4">
		<div class = "col-md-10 col-md-offset-1">
			<h1>Om du kunde välja fritt, hur mycket skulle du vilja ha i pension per månad? (5/12)</h1>
			<p>
				<br>
				Jag skulle vilja ha en pension på <input type="text" name = "onskad_pension" placeholder="Ange kronor" style="width: 160px;text-align: center;"> före skatt per månad.
			</p>
	    </div>
	</div>

	<div class="section" id="section5" >		
		<div class = "col-md-10 col-md-offset-1">
			<h1> Pensionen påverkas av flera faktorer (6/12)</h1>
			<p>
				<br>
				Något förenklat beror din framtida pension framför allt på två saker.<br>
				Hur många år du arbetar och hur mycket pengar du drar av från din lön till pensionen.<br>
				<br>
			</p>
			<ol>
			  <li><p>1. Ju fler år du jobbar och har en inkomst, desto högre pension får du.  <br></p></li>
			  <li><p>2. Är du beredd att dra av pengar från din lön idag blir din pension högre imorgon.</p></li>
			</ol>
		</div>
	</div>

	<div class="section" id="section6" >
		<div class = "col-md-10 col-md-offset-1">
			<h1>Hur mycket tjänar du idag? (7/12)</h1>
			<p>
				<br>
				Idag tjänar jag <input type="text" name = "inkomst_efter_skatt" placeholder="Ange kronor" style="width: 160px;text-align: center;">kronor per månad före skatt.
			</p>
	    </div>
	</div>

	<div class="section" id="section7" >
		<div class = "col-md-10 col-md-offset-1">
		<h1>Kan du tänka dig att leva på mindre pengar idag för att få en högre pension i framtiden? (8/12)</h1>
			<div class="radioLeft col-md-6 col-md-offset-3">
				<p>
					<br>
					<div class="btn-group btn-group-vertical" data-toggle="buttons">
			        	<label class="btn active sparaNej">
			          		<input type="radio" name='spara_janej' checked><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i> <span> Nej, jag vill/behöver använda hela min inkomst idag istället. </span>
			        	</label>
				        <label class="btn sparaJa">
				          	<input type="radio" name='spara_janej'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Ja, jag är beredd att leva på mindre pengar varje månad, för att få en högre pension. </span>
				        </label>
		      		</div>
				</p>
			</div>
			<div class="col-md-10 col-md-offset-1" id = "x3text">
				<h1>Hur mycket är du beredd att dra av från din lön idag för att få mer i pension sedan?</h1>
				<p> <br>
					Jag är beredd att dra av <input type="text" name = "test_slider_sparande" placeholder="Ange kronor" style="width: 160px;text-align: center;"> kronor före skatt per månad.
				</p>
			</div>
			<div id="x3" class = "col-md-10 col-md-offset-1">
			</div>
		</div>
	</div>

	<div class="section" id="section8" >
		<div class = "col-md-10 col-md-offset-1">
		<h1>Allt hänger ihop (9/12)</h1>
			<p>
				<br>
				På nästa sida skall du få laborera mellan önskad pensionsålder och hur mycket du vill ha i pension utifrån din situation. <br>
				Fyll i en av rutorna eller dra i reglagen för att se hur den andra påverkas. <br>
				Längst ned kan också ändra det belopp du väljer att dra av från din lön idag för att se hur det påverkar din framtida pension. <br>
				När du känner dig nöjd med dina val klickar du på knappen längst ned för att gå vidare. <br>
				<br>
				Observera att det bara är ett experiment för att visa hur de olika sakerna påverkar varandra <br>
				och ingen exakt prognos över hur det kommer att se ut när du går i pension.
				<br>
				<br>
			</p>
		</div>
	</div>
	
	<div class="section" id="section9" >
		<div class = "col-md-10 col-md-offset-1">
			<h1>Välj en ålder, pension och ett pensionssparande som passar dig (10/12)</h1>
			<div id="x1" class = "col-md-10 col-md-offset-1">
			<p> Pensionsålder <input type="text" name = "test_slider_pensionsalder" placeholder="Ange ålder" style="width: 150px;text-align: center;"> år </p>
			</div>
			<div class = "col-md-10 col-md-offset-1">
				<p> Pension <input type="text" name = "test_slider_pensionsinkomst" placeholder="Ange kronor" style="width: 160px;text-align: center;"> kr före skatt</p>
			</div>
			<div id="x2" class = "col-md-10 col-md-offset-1"> 
			</div>
			<div class = "col-md-10 col-md-offset-1">
			<p>
				<br>
				Jag väljer att dra av <input type="text" name = "sparande_final_valfritt" placeholder="0" style="width: 140px;text-align: center;"> kronor av min månadslön till min framtida pension
			</div>
		</div>
	</div>

	<div class="section" id="section10" >
		<div class = "col-md-10 col-md-offset-1">
			<h1>Vill du istället ha mer pengar idag och mindre i pension? (11/12)</h1>
			<p>
				<br>
				Idag betalar din arbetsgivare enligt lag en pensionsavgift utöver din lön till din allmänna pension. <br>
				Om du kunde välja, skulle du då välja att få en lägre allmän pension och istället få ut mer lön att leva för idag? <br>
				<br>
			</p>
			<div class="btn-group btn-group-vertical" data-toggle="buttons">
		        	<label class="btn active">
		          		<input type="radio" name='spara_mindre' checked><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i> <span> Nej, jag är nöjd med att arbetsgivaren betalar in pengar till min pension. </span>
		        	</label>
			        <label class="btn">
			          	<input type="radio" name='spara_mindre'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Ja, jag vill hellre få en högre lön istället. </span>
			        </label>
			        <label class="btn">
			          	<input type="radio" name='spara_mindre'><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-dot-circle-o fa-2x"></i><span> Ej aktuellt /jag har ingen arbetsgivare/ jag är egenföretagare.  </span>
			        </label>
	      	</div>
		</div>
	</div>

	<div class="section" id="section11">
		<div class = "col-md-10 col-md-offset-1">
			<h1>Tack för din medverkan! (12/12)</h1>
		</div>
	</div>
</body>

<script>
	var s1 = slider2(55,75,"alder"), s2 = slider2(0,30000,"utbet"), s3 = slider2(0,25000, "income");

	var slider11 = d3.select("#x1").append("svg").call(s1);
	var slider22 = d3.select("#x2").append("svg").call(s2);
	var slider33 = d3.select("#x3").append("svg").call(s3);


	s1.callback(function(){pension(s1,s2,s3);})
	s2.callback(function(){behallning(s2,s1,s3);})
	s3.callback(function(){sparande(s3,s1,s2);})

	s1.value(65);
	//s2.value(10000);
	//s3.value(0);

// input controls and data validation
	$('input[name^="fodelsear"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value)) || (thisYear - Number(this.value)) < 0 || (thisYear - Number(this.value)) > 75){
	    swal({title: "Fel format",
	          text:"Vänligen ange fyrsiffrigt födelseår  \n \n Exempel: 1965",
	          type: "warning"})
	  }

	});

	$('input[name^="onskad_alder"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value)) || Number(this.value) > 99 || Number(this.value) < 50){
	    swal({title: "Fel format",
	          text:"Vänligen ange pensionsålder med två siffror i intervallet 50 - 99 år\n \n Exempel: 67",
	          type: "warning"})
	  }

	});

	$('input[name^="onskad_pension"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value))){
	    swal({title: "Fel format",
	          text:"Vänligen ange önskad pension med siffror utan mellanslag eller skiljetecken\n \n Exempel: 20000",
	          type: "warning"})
	  }

	});


	$('input[name^="inkomst_efter_skatt"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value))){
	    swal({title: "Fel format",
	          text:"Vänligen ange din inkomst med siffror utan mellanslag eller skiljetecken\n \n Exempel: 20000",
	          type: "warning"})
	  }

	});

	$('input[name^="test_slider_sparande"]').change(function() {

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value))){
	    swal({title: "Fel format",
	          text:"Vänligen ange din inkomst med siffror utan mellanslag eller skiljetecken\n \n Exempel: 20000",
	          type: "warning"})
	  }else if(Number(this.value) > Number($('input[name^="inkomst_efter_skatt"]').val())){
  		swal({title: "För högt värde angivet",
	          text:"Ditt sparande överstiger din inkomst, vänligen välj ett lägre värde.",
	          type: "warning"})
	  }

	});


	$('input[name^="test_slider_pensionsalder"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value)) || Number(this.value) > 99 || Number(this.value) < 50){
	    swal({title: "Fel format",
	          text:"Vänligen ange pensionsålder med två siffror i intervallet 50 - 99 år\n \n Exempel: 67",
	          type: "warning"})
	  }

	});

	$('input[name^="test_slider_pensionsinkomst"]').change(function() {
	  //alert( "Handler for .change() called." );
	  var d = new Date();
	  var thisYear = Number(d.getFullYear());

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value))){
	    swal({title: "Fel format",
	          text:"Vänligen ange önskad pension med siffror utan mellanslag eller skiljetecken\n \n Exempel: 20000",
	          type: "warning"})
	  }

	});

	$('input[name^="sparande_final_valfritt"]').change(function() {

	  //cannot be too young cannot be older than min of scale
	  if(isNaN(Number(this.value))){
	    swal({title: "Fel format",
	          text:"Vänligen ange din inkomst med siffror utan mellanslag eller skiljetecken\n \n Exempel: 20000",
	          type: "warning"})
	  }else if(Number(this.value) > Number($('input[name^="inkomst_efter_skatt"]').val())){
  		swal({title: "För högt värde angivet",
	          text:"Ditt sparande överstiger din inkomst, vänligen välj ett lägre värde.",
	          type: "warning"})
	  }

	});

	

</script>




</html>
